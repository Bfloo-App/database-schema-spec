{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://schemas.bfloo.com/database-schema-spec/v1/schemas/base/schema.json",
  "title": "Schema Base Definition",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for the schema"
    },
    "name": {
      "type": "string",
      "description": "Name of the schema",
      "minLength": 1,
      "maxLength": 64,
      "examples": [
        "E-commerce Platform",
        "Inventory Management System",
        "Customer Relationship Management",
        "Financial Management System",
        "Human Resources Portal"
      ]
    },
    "snapshot": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string",
          "description": "Label for the snapshot",
          "minLength": 1,
          "maxLength": 64,
          "examples": ["v1.0.0", "v1.1.0", "v2.0.0"]
        },
        "description": {
          "type": ["string", "null"],
          "description": "Description of the snapshot",
          "examples": [
            "Initial schema setup",
            "Added new tables",
            "Updated column types"
          ]
        },
        "parent_id": {
          "type": ["string", "null"],
          "format": "uuid",
          "description": "UUID of the parent snapshot this snapshot is based on. Null for initial snapshots.",
          "examples": ["550e8400-e29b-41d4-a716-446655440000", null]
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp when the snapshot was created",
          "examples": ["2023-10-01T12:00:00", "2023-10-02T15:30:00"]
        }
      },
      "required": ["label", "description", "parent_id", "created_at"],
      "additionalProperties": false
    },
    "tables": {
      "type": "array",
      "description": "List of tables in the schema"
    }
  },
  "required": ["id", "name", "snapshot", "tables"],
  "additionalProperties": false
}
