# Example manifest.yaml for snapshot tracking
# This file tracks all schema snapshots with their metadata.
# Located in the _history_/ directory of your database/ folder.
# Managed by the CLI - typically not edited manually.

# Currently active snapshot label
current: "v2.0.0"

# Ordered list of snapshots (oldest first)
# Forms a tree structure via parent_id relationships
snapshots:
  # Initial schema release
  - label: "v1.0.0"
    id: "123e4567-e89b-12d3-a456-426614174000"
    parent_id: null
    database_version: "15.0"
    created_at: "2024-01-15T10:30:00Z"
    file: "2024-01-15_v1.0.0.yaml"
    synced: true

  # Added products table
  - label: "v1.1.0"
    id: "234e5678-f90a-23e4-b567-537725285111"
    parent_id: "123e4567-e89b-12d3-a456-426614174000"
    database_version: "15.0"
    created_at: "2024-02-20T14:15:00Z"
    file: "2024-02-20_v1.1.0.yaml"
    synced: true

  # Added orders and order_items tables
  - label: "v2.0.0"
    id: "345f6789-a01b-34f5-c678-648836396222"
    parent_id: "234e5678-f90a-23e4-b567-537725285111"
    database_version: "15.0"
    created_at: "2024-03-10T09:45:00Z"
    file: "2024-03-10_v2.0.0.yaml"
    synced: false

  # Experimental branch from v1.0.0 (demonstrates branching)
  - label: "v1.0.1-experiment"
    id: "456a7890-b12c-45a6-d789-759947407333"
    parent_id: "123e4567-e89b-12d3-a456-426614174000"
    database_version: "15.0"
    created_at: "2024-01-20T11:00:00Z"
    file: "2024-01-20_v1.0.1-experiment.yaml"
    synced: false

# Snapshot tree visualization:
#
# v1.0.0 (PostgreSQL 15.0)
# ├── v1.1.0 (PostgreSQL 15.0)
# │   └── v2.0.0 (PostgreSQL 15.0) ← current
# └── v1.0.1-experiment (PostgreSQL 15.0)
