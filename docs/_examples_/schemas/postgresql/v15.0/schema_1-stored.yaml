# Example 1: User Management Schema (Stored Snapshot)
# File location: .bfloo/users/2024-01-15_v1.0.0.yml
# Stored snapshots contain only hashable content.
# This example omits optional description to show minimal valid structure.

tables:
  - id: 1
    name: users
    columns:
      - id: 1
        name: id
        type: serial
        constraints:
          nullable: false
      - id: 2
        name: username
        type: text
        constraints:
          nullable: false
          min_length:
            name: "chk_username_min_len"
            value: 3
          max_length:
            name: "chk_username_max_len"
            value: 50
      - id: 3
        name: email
        type: text
        constraints:
          nullable: false
          max_length:
            name: "chk_email_max_len"
            value: 255
      - id: 4
        name: password_hash
        type: text
        constraints:
          nullable: false
      - id: 5
        name: is_active
        type: boolean
        default: true
        constraints:
          nullable: false
      - id: 6
        name: created_at
        type: timestamp
        default: "current_timestamp"
        constraints:
          nullable: false
    constraints:
      - id: 1
        name: "pk_users"
        type: primary_key
        columns: ["id"]
      - id: 2
        name: "uq_users_username"
        type: unique
        columns: ["username"]
      - id: 3
        name: "uq_users_email"
        type: unique
        columns: ["email"]
